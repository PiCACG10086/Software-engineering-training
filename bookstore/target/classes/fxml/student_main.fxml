<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.university.bookstore.ui.StudentMainController">
   <top>
      <VBox>
         <children>
            <!-- 标题栏 -->
            <HBox alignment="CENTER_LEFT" spacing="20.0" style="-fx-background-color: #2196F3; -fx-padding: 10;">
               <children>
                  <Label text="高校教材购销系统 - 学生端" textFill="WHITE">
                     <font>
                        <Font name="System Bold" size="16.0" />
                     </font>
                  </Label>
                  <Region HBox.hgrow="ALWAYS" />
                  <Label fx:id="usernameLabel" text="用户名" textFill="WHITE" />
                  <Label text="|" textFill="WHITE" />
                  <Button fx:id="logoutButton" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-border-color: white; -fx-border-radius: 3;" text="退出登录" />
               </children>
            </HBox>
         </children>
      </VBox>
   </top>
   
   <center>
      <TabPane tabClosingPolicy="UNAVAILABLE">
         <tabs>
            <!-- 图书浏览标签页 -->
            <Tab text="图书浏览">
               <content>
                  <VBox spacing="10.0">
                     <children>
                        <!-- 搜索栏 -->
                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                           <children>
                              <Label text="搜索图书:" />
                              <TextField fx:id="searchField" promptText="输入书名、作者或出版社" HBox.hgrow="ALWAYS" />
                              <Button fx:id="searchButton" text="搜索" />
                           </children>
                           <VBox.margin>
                              <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                           </VBox.margin>
                        </HBox>
                        
                        <!-- 图书表格 -->
                        <TableView fx:id="bookTable" VBox.vgrow="ALWAYS">
                           <columns>
                              <TableColumn fx:id="titleColumn" prefWidth="200.0" text="书名" />
                              <TableColumn fx:id="authorColumn" prefWidth="120.0" text="作者" />
                              <TableColumn fx:id="publisherColumn" prefWidth="120.0" text="出版社" />
                              <TableColumn fx:id="priceColumn" prefWidth="80.0" text="价格" />
                              <TableColumn fx:id="stockColumn" prefWidth="80.0" text="库存" />
                           </columns>
                           <VBox.margin>
                              <Insets left="10.0" right="10.0" />
                           </VBox.margin>
                        </TableView>
                        
                        <!-- 操作栏 -->
                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                           <children>
                              <Label text="数量:" />
                              <Spinner fx:id="quantitySpinner" prefWidth="80.0" />
                              <Button fx:id="addToCartButton" text="加入购物车" />
                           </children>
                           <VBox.margin>
                              <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                           </VBox.margin>
                        </HBox>
                     </children>
                  </VBox>
               </content>
            </Tab>
            
            <!-- 购物车标签页 -->
            <Tab text="购物车">
               <content>
                  <VBox spacing="10.0">
                     <children>
                        <!-- 购物车表格 -->
                        <TableView fx:id="cartTable" VBox.vgrow="ALWAYS">
                           <columns>
                              <TableColumn fx:id="cartTitleColumn" prefWidth="250.0" text="书名" />
                              <TableColumn fx:id="cartPriceColumn" prefWidth="100.0" text="单价" />
                              <TableColumn fx:id="cartQuantityColumn" prefWidth="80.0" text="数量" />
                              <TableColumn fx:id="cartSubtotalColumn" prefWidth="100.0" text="小计" />
                           </columns>
                           <VBox.margin>
                              <Insets left="10.0" right="10.0" top="10.0" />
                           </VBox.margin>
                        </TableView>
                        
                        <!-- 总价和操作按钮 -->
                        <HBox alignment="CENTER_RIGHT" spacing="10.0">
                           <children>
                              <Label fx:id="totalPriceLabel" text="总计：¥0.00">
                                 <font>
                                    <Font name="System Bold" size="14.0" />
                                 </font>
                              </Label>
                              <Region HBox.hgrow="ALWAYS" />
                              <Button fx:id="removeFromCartButton" text="移除选中" />
                              <Button fx:id="clearCartButton" text="清空购物车" />
                              <Button fx:id="checkoutButton" style="-fx-background-color: #4CAF50; -fx-text-fill: white;" text="结算" />
                           </children>
                           <VBox.margin>
                              <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                           </VBox.margin>
                        </HBox>
                     </children>
                  </VBox>
               </content>
            </Tab>
            
            <!-- 我的订单标签页 -->
            <Tab text="我的订单">
               <content>
                  <VBox spacing="10.0">
                     <children>
                        <!-- 订单表格 -->
                        <TableView fx:id="orderTable" VBox.vgrow="ALWAYS">
                           <columns>
                              <TableColumn fx:id="orderNumberColumn" prefWidth="150.0" text="订单号" />
                              <TableColumn fx:id="orderTotalColumn" prefWidth="100.0" text="总价" />
                              <TableColumn fx:id="orderStatusColumn" prefWidth="100.0" text="状态" />
                              <TableColumn fx:id="orderDateColumn" prefWidth="150.0" text="下单时间" />
                           </columns>
                           <VBox.margin>
                              <Insets left="10.0" right="10.0" top="10.0" />
                           </VBox.margin>
                        </TableView>
                        
                        <!-- 操作按钮 -->
                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                           <children>
                              <Button fx:id="viewOrderDetailsButton" text="查看详情" />
                              <Button fx:id="cancelOrderButton" text="取消订单" />
                           </children>
                           <VBox.margin>
                              <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                           </VBox.margin>
                        </HBox>
                     </children>
                  </VBox>
               </content>
            </Tab>
            
            <!-- 个人信息标签页 -->
            <Tab text="个人信息">
               <content>
                  <VBox spacing="20.0">
                     <children>
                        <Label text="个人信息">
                           <font>
                              <Font name="System Bold" size="16.0" />
                           </font>
                        </Label>
                        
                        <GridPane hgap="10.0" vgap="15.0">
                           <columnConstraints>
                              <ColumnConstraints hgrow="NEVER" minWidth="80.0" />
                              <ColumnConstraints hgrow="ALWAYS" minWidth="200.0" />
                           </columnConstraints>
                           <rowConstraints>
                              <RowConstraints vgrow="NEVER" />
                              <RowConstraints vgrow="NEVER" />
                              <RowConstraints vgrow="NEVER" />
                           </rowConstraints>
                           
                           <Label text="用户名:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                           <Label fx:id="usernameLabel" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                           
                           <Label text="姓名:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                           <Label fx:id="nameLabel" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                           
                           <Label text="学号:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                           <Label fx:id="studentIdLabel" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                        </GridPane>
                        
                        <HBox spacing="10.0">
                           <children>
                              <Button fx:id="changePasswordButton" text="修改密码" />
                           </children>
                        </HBox>
                        
                        <Region VBox.vgrow="ALWAYS" />
                     </children>
                     <padding>
                        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                     </padding>
                  </VBox>
               </content>
            </Tab>
         </tabs>
      </TabPane>
   </center>
</BorderPane>